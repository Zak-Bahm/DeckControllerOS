#!/bin/sh

# Ensure /dev is available early for init/getty.
if ! mountpoint -q /dev; then
    mkdir -p /dev
    mount -t devtmpfs devtmpfs /dev || true
fi

[ -e /dev/null ] || mknod -m 666 /dev/null c 1 3
[ -e /dev/tty ] || mknod -m 666 /dev/tty c 5 0
[ -e /dev/console ] || mknod -m 600 /dev/console c 5 1
[ -e /dev/tty1 ] || mknod -m 620 /dev/tty1 c 4 1
